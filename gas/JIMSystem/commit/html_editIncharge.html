<article>
    <h1>担当情報編集</h1>
    <section>
        <h2>新規作成・変更</h2>
        <form id="formEditIncharge_edit">
            <table class="tableform"><tbody>
                <tr class="advancedSetting" style="display: none;">
                    <td>編集中のデータID</td>
                    <td><input type="text" name="editing" tabindex="-1" disabled></td>
                    <td>編集不可</td>
                </tr><tr>
                    <td>担当名</td>
                    <td><input type="text" name="name" tabindex="2" ></td>
                    <td></td>
                </tr><tr>
                    <td>略称名</td>
                    <td><input type="text" name="code" tabindex="2" ></td>
                    <td></td>
                </tr><tr>
                    <td>直上の担当</td>
                    <td><select name="parentIncharge" tabindex="2"></select></td>
                    <td><table>
                        <tr><td>期・局：</td><td>
                            <select name="parentIncharge_cond_nth" tabindex="2" onchange="_val.pageFun.editIncharge.searchDivisionForForm('parentIncharge');_val.pageFun.editIncharge.searchInchargeForForm('parentIncharge')"></select>
                            <select name="parentIncharge_cond_division" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('parentIncharge')"></select>
                        </td></tr>
                        <tr><td>略称：</td><td><input type="text" name="parentIncharge_cond_code" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('parentIncharge')"></td></tr>
                        <tr><td>担当名：</td><td><input type="text" name="parentIncharge_cond_name" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('parentIncharge')"></td></tr>
                    </table></td>
                </tr><tr>
                    <td>所属するメンバーの種類</td>
                    <td><select name="member_kind" tabindex="2">
                        <option value="user">ユーザー</option>
                        <option value="incharge">担当</option>
                    </select></td>
                    <td></td>
                </tr><tr>
                    <td>所属するメンバー</td>
                    <td><table><tbody>
                        <tr><td>候補</td><td>リスト</td></tr>
                        <tr><td>
                            <select name="member_list" tabindex="2" multiple></select>
                        </td><td>
                            <input type="hidden" name="member_selected" tabindex="-1">
                            <div style="display: table"></div>
                        </td></tr><tr><td>
                            <input type="button" name="member_add" value="→追加" tabindex="2" onclick="_val.pageFun.editIncharge.moveMember('member','add')">
                        </td><td>
                        </td></tr>
                    </tbody></table></td>
                    <td><table>
                        <tr class="memberForIncharge"><td>期・局：</td><td>
                            <select name="member_cond_nth" tabindex="2" onchange="_val.pageFun.editIncharge.searchDivisionForForm('member');_val.pageFun.editIncharge.searchInchargeForForm('member')"></select>
                            <select name="member_cond_division" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('member');"></select>
                        </td></tr>
                        <tr class="memberForIncharge"><td>略称：</td><td><input type="text" name="member_cond_code" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('member');"></td></tr>
                        <tr class="memberForIncharge"><td>担当名：</td><td><input type="text" name="member_cond_name" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('member');"></td></tr>
                        <tr class="memberForUser"><td>配送名：</td><td><input type="text" name="member_cond_azusa" tabindex="2" onchange="_val.pageFun.editIncharge.searchUserForForm('member');"></td></tr>
                        <tr class="memberForUser"><td>氏名：</td><td><input type="text" name="member_cond_nameUser" tabindex="2" onchange="_val.pageFun.editIncharge.searchUserForForm('member');"></td></tr>
                    </table></td>
                </tr><tr>
                    <td>関連する担当</td>
                    <td><table><tbody>
                        <tr><td>候補</td><td>リスト</td></tr>
                        <tr><td>
                            <select name="relevantIncharge_list" tabindex="2" multiple></select>
                        </td><td>
                            <input type="hidden" name="relevantIncharge_selected" tabindex="-1">
                            <div style="display: table"></div>
                        </td></tr><tr><td>
                            <input type="button" name="relevantIncharge_add" value="→追加" tabindex="2" onclick="_val.pageFun.editIncharge.moveMember('relevantIncharge','add')">
                        </td><td>
                        </td></tr>
                    </tbody></table></td>
                    <td><table>
                        <tr><td>期・局：</td><td>
                            <select name="relevantIncharge_cond_nth" tabindex="2" onchange="_val.pageFun.editIncharge.searchDivisionForForm('relevantIncharge');_val.pageFun.editIncharge.searchInchargeForForm('relevantIncharge')"></select>
                            <select name="relevantIncharge_cond_division" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('relevantIncharge');"></select>
                        </td></tr>
                        <tr><td>略称：</td><td><input type="text" name="relevantIncharge_cond_code" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('relevantIncharge');"></td></tr>
                        <tr><td>担当名：</td><td><input type="text" name="relevantIncharge_cond_name" tabindex="2" onchange="_val.pageFun.editIncharge.searchInchargeForForm('relevantIncharge');"></td></tr>
                        <tr><td></td><td>oldの担当を入れる。数珠つなぎで参照できるので、前年度の担当のみ入れれば十分</td></tr>
                    </table></td>
                </tr><tr>
                    <td>非表示とするか</td>
                    <td><input type="button" name="isInvisible" value="No" tabindex="2" onclick='var el=$(this);if(el.val()==="Yes"){el.val("No");}else{el.val("Yes");}'></td>
                    <td>人割表などで非表示にする。上位の担当が非表示だと、それ以下全ての担当も非表示なる。</td>
                </tr><tr>
                    <td>期を表すか</td>
                    <td><input type="button" name="isAllParent" value="No" tabindex="2" onclick='var el=$(this);if(el.val()==="Yes"){el.val("No");}else{el.val("Yes");}'></td>
                    <td>例えば、MF90も担当として扱う。この担当はこれより上位の担当が存在せず、期を表す。この担当に限っては担当名は「アルファベット + 期を表す数字」でなくてはならない。</td>
                </tr>
            </tbody></table>
            <input type="button" name="run_add" value="新規作成" tabindex="2" onclick='_val.pageFun.editIncharge.updateIncharge("add")'><input type="button" name="run_change" value="変更を保存" tabindex="2" onclick='_val.pageFun.editIncharge.updateIncharge("change")'>
        </form>
    </section><section>
        <h2>検索</h2>
        <form id="formEditIncharge_search_cond">
            <table class="tableform"><tbody>
                <tr><td>担当名</td><td><input type="text" name="name" tabindex="2" onkeyup='if(event.keyCode === 13){_val.pageFun.editIncharge.searchIncharge();return false;}'></td></tr>
                <tr><td>期</td><td><select name="nth" onchange="_val.pageFun.editIncharge.searchIncharge();"></select></td></tr>
                <tr><td>局</td><td><select name="division" onchange="_val.pageFun.editIncharge.searchIncharge();"></select></td></tr>
                <tr><td>略称</td><td><input type="text" name="code" tabindex="2" onkeyup='if(event.keyCode === 13){_val.pageFun.editIncharge.searchIncharge();return false;}'></td></tr>
            </tbody></table>
            <input type="button" name="run" value="検索" tabindex="2" onclick='_val.pageFun.editIncharge.searchIncharge();'>
        </form>
        <div id="formEditIncharge_search_result"></div>
    </section>
</article>